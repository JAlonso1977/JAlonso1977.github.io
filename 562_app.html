
<!DOCTYPE html>
<html lang = "es">
<link rel="stylesheet" href="css/bootstrap.min.css">
<head>
<meta charset="UTF-8">
<title>562 APP</title>
<script>

function actividades() {

  const valores = window.location.search;
  const urlParams = new URLSearchParams(valores);
  var idViv = urlParams.get('id');
  var idNum = urlParams.get('numero');
  document.getElementById('vivienda').innerHTML=idViv;
  document.getElementById('ord_viv').innerHTML=idNum;

  const requestURL = 'https://controlobraapi.i3code.net/api/Actividades?idObra=18';//incluir el idObra
  const request = new XMLHttpRequest();
  request.open('GET', requestURL);
  request.responseType = 'json';
  request.send();
  request.onload = function () {
        const registro = request.response;
        myvaract = registro['data'];
        list_act=[];
        list_emp=[];
        //document.getElementById('textin').innerHTML=myvar;
        var itera2 = Object.keys(myvaract).length;
        for(var n = 0; n < itera2; n++) {
          let current = myvaract[n];
          var datact1 = current.nombre;
          var datact2 = current.id;
          var datact3 = current.empresa;
          list_act.push(datact1);
          list_emp.push(datact3);
    }
  }
  actualizar()
}

function ver() {
  document.getElementById('texto').innerHTML=list_act;
  document.getElementById('texto2').innerHTML=list_emp;
}

function actualizar() {
  idvivienda=document.getElementById('vivienda').innerHTML;
  const requestURL = 'https://controlobraapi.i3code.net/api/Registros?idVivienda='+idvivienda+'';//incluir el idObra
  const request = new XMLHttpRequest();
  request.open('GET', requestURL);
  request.responseType = 'json';
  request.send();
  request.onload = function () {
        const registro = request.response;
        myvaract = registro['data'];
        list_act1=[];
        list_emp1=[];
        //document.getElementById('textin').innerHTML=myvar;
        var itera2 = Object.keys(myvaract).length;
        for(var n = 0; n < itera2; n++) {
          let current = myvaract[n];
          var datact1 = current.actividad;
          var datact2 = current.id;
          var datact3 = current.empresa;
          var datact4 = current.status;
          var datact5 = current.comentario;
//inicio rutina actividades
//Actividad 0
Act0 = document.getElementById('Act0').innerHTML;
if (datact1==Act0) {
    document.getElementById('estAct0').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct0').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct0').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct0').style.background="#FE2722";
    }
document.getElementById("ingresatexto0").value=datact5;
}
//Actividad 1
Act1 = document.getElementById('Act1').innerHTML;
if (datact1==Act1) {
    document.getElementById('estAct1').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct1').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct1').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct1').style.background="#FE2722";
    }
document.getElementById("ingresatexto1").value=datact5;
}
//Actividad 2
Act2 = document.getElementById('Act2').innerHTML;
if (datact1==Act2) {
    document.getElementById('estAct2').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct2').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct2').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct2').style.background="#FE2722";
    }
document.getElementById("ingresatexto2").value=datact5;
}
//Actividad 3
Act3 = document.getElementById('Act3').innerHTML;
if (datact1==Act3) {
    document.getElementById('estAct3').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct3').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct3').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct3').style.background="#FE2722";
    }
document.getElementById("ingresatexto3").value=datact5;
}
//Actividad 4
Act4 = document.getElementById('Act4').innerHTML;
if (datact1==Act4) {
    document.getElementById('estAct4').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct4').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct4').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct4').style.background="#FE2722";
    }
document.getElementById("ingresatexto4").value=datact5;
}
//Actividad 5
Act5 = document.getElementById('Act5').innerHTML;
if (datact1==Act5) {
    document.getElementById('estAct5').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct5').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct5').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct5').style.background="#FE2722";
    }
document.getElementById("ingresatexto5").value=datact5;
}
//Actividad 6
Act6 = document.getElementById('Act6').innerHTML;
if (datact1==Act6) {
    document.getElementById('estAct6').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct6').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct6').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct6').style.background="#FE2722";
    }
document.getElementById("ingresatexto6").value=datact5;
}
//Actividad 7
Act7 = document.getElementById('Act7').innerHTML;
if (datact1==Act7) {
    document.getElementById('estAct7').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct7').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct7').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct7').style.background="#FE2722";
    }
document.getElementById("ingresatexto7").value=datact5;
}
//Actividad 8
Act8 = document.getElementById('Act8').innerHTML;
if (datact1==Act8) {
    document.getElementById('estAct8').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct8').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct8').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct8').style.background="#FE2722";
    }
document.getElementById("ingresatexto8").value=datact5;
}
//Actividad 9
Act9 = document.getElementById('Act9').innerHTML;
if (datact1==Act9) {
    document.getElementById('estAct9').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct9').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct9').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct9').style.background="#FE2722";
    }
document.getElementById("ingresatexto9").value=datact5;
}
//Actividad 10
Act10 = document.getElementById('Act10').innerHTML;
if (datact1==Act10) {
    document.getElementById('estAct10').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct10').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct10').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct10').style.background="#FE2722";
    }
document.getElementById("ingresatexto10").value=datact5;
}
//Actividad 11
Act11 = document.getElementById('Act11').innerHTML;
if (datact1==Act11) {
    document.getElementById('estAct11').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct11').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct11').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct11').style.background="#FE2722";
    }
document.getElementById("ingresatexto11").value=datact5;
}
//Actividad 12
Act12 = document.getElementById('Act12').innerHTML;
if (datact1==Act12) {
    document.getElementById('estAct12').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct12').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct12').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct12').style.background="#FE2722";
    }
document.getElementById("ingresatexto12").value=datact5;
}
//Actividad 13
Act13 = document.getElementById('Act13').innerHTML;
if (datact1==Act13) {
    document.getElementById('estAct13').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct13').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct13').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct13').style.background="#FE2722";
    }
document.getElementById("ingresatexto13").value=datact5;
}
//Actividad 14
Act14 = document.getElementById('Act14').innerHTML;
if (datact1==Act14) {
    document.getElementById('estAct14').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct14').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct14').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct14').style.background="#FE2722";
    }
document.getElementById("ingresatexto14").value=datact5;
}
//Actividad 15
Act15 = document.getElementById('Act15').innerHTML;
if (datact1==Act15) {
    document.getElementById('estAct15').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct15').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct15').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct15').style.background="#FE2722";
    }
document.getElementById("ingresatexto15").value=datact5;
}
//Actividad 16
Act16 = document.getElementById('Act16').innerHTML;
if (datact1==Act16) {
    document.getElementById('estAct16').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct16').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct16').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct16').style.background="#FE2722";
    }
document.getElementById("ingresatexto16").value=datact5;
}
//Actividad 17
Act17 = document.getElementById('Act17').innerHTML;
if (datact1==Act17) {
    document.getElementById('estAct17').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct17').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct17').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct17').style.background="#FE2722";
    }
document.getElementById("ingresatexto17").value=datact5;
}
//Actividad 18
Act18 = document.getElementById('Act18').innerHTML;
if (datact1==Act18) {
    document.getElementById('estAct18').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct18').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct18').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct18').style.background="#FE2722";
    }
document.getElementById("ingresatexto18").value=datact5;
}
//Actividad 19
Act19 = document.getElementById('Act19').innerHTML;
if (datact1==Act19) {
    document.getElementById('estAct19').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct19').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct19').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct19').style.background="#FE2722";
    }
document.getElementById("ingresatexto19").value=datact5;
}
//Actividad 20
Act20 = document.getElementById('Act20').innerHTML;
if (datact1==Act20) {
    document.getElementById('estAct20').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct20').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct20').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct20').style.background="#FE2722";
    }
document.getElementById("ingresatexto20").value=datact5;
}
//Actividad 21
Act21 = document.getElementById('Act21').innerHTML;
if (datact1==Act21) {
    document.getElementById('estAct21').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct21').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct21').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct21').style.background="#FE2722";
    }
document.getElementById("ingresatexto21").value=datact5;
}
//Actividad 22
Act22 = document.getElementById('Act22').innerHTML;
if (datact1==Act22) {
    document.getElementById('estAct22').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct22').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct22').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct22').style.background="#FE2722";
    }
document.getElementById("ingresatexto22").value=datact5;
}
//Actividad 23
Act23 = document.getElementById('Act23').innerHTML;
if (datact1==Act23) {
    document.getElementById('estAct23').innerHTML=datact2;
if(datact4=="Terminado conforme"){
   document.getElementById('estAct23').style.background="#00ff00";
   }
if(datact4=="Terminado no conforme"){
    document.getElementById('estAct23').style.background="#F1F622";
    }
if(datact4=="Sin terminar"){
   document.getElementById('estAct23').style.background="#FE2722";
    }
document.getElementById("ingresatexto23").value=datact5;
}

//fin rutina actividades
    }
  }
}
function ConfirmDemo() {
    //Ingresamos un mensaje
    var mensaje = confirm("Registro guardado");
    //Verificamos si el usuario acepto el mensaje
    if (mensaje) {
    actualizar();//actualizar html según obra
    }
}
//Actividades POST
function actividad0(status) {
  var dato1 = Number(document.getElementById("estAct0").innerHTML);
  var dato2 = document.getElementById("Act0").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto0").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad1(status) {
  var dato1 = Number(document.getElementById("estAct1").innerHTML);
  var dato2 = document.getElementById("Act1").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto1").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad2(status) {
  var dato1 = Number(document.getElementById("estAct2").innerHTML);
  var dato2 = document.getElementById("Act2").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto2").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad3(status) {
  var dato1 = Number(document.getElementById("estAct3").innerHTML);
  var dato2 = document.getElementById("Act3").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto3").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad4(status) {
  var dato1 = Number(document.getElementById("estAct4").innerHTML);
  var dato2 = document.getElementById("Act4").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto4").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad5(status) {
  var dato1 = Number(document.getElementById("estAct5").innerHTML);
  var dato2 = document.getElementById("Act5").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto5").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad6(status) {
  var dato1 = Number(document.getElementById("estAct6").innerHTML);
  var dato2 = document.getElementById("Act6").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto6").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad7(status) {
  var dato1 = Number(document.getElementById("estAct7").innerHTML);
  var dato2 = document.getElementById("Act7").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto7").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad8(status) {
  var dato1 = Number(document.getElementById("estAct8").innerHTML);
  var dato2 = document.getElementById("Act8").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto8").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad9(status) {
  var dato1 = Number(document.getElementById("estAct9").innerHTML);
  var dato2 = document.getElementById("Act9").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto9").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad10(status) {
  var dato1 = Number(document.getElementById("estAct10").innerHTML);
  var dato2 = document.getElementById("Act10").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto10").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad11(status) {
  var dato1 = Number(document.getElementById("estAct11").innerHTML);
  var dato2 = document.getElementById("Act11").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto11").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad12(status) {
  var dato1 = Number(document.getElementById("estAct12").innerHTML);
  var dato2 = document.getElementById("Act12").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto12").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad13(status) {
  var dato1 = Number(document.getElementById("estAct13").innerHTML);
  var dato2 = document.getElementById("Act13").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto13").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad14(status) {
  var dato1 = Number(document.getElementById("estAct14").innerHTML);
  var dato2 = document.getElementById("Act14").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto14").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad15(status) {
  var dato1 = Number(document.getElementById("estAct15").innerHTML);
  var dato2 = document.getElementById("Act15").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto15").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad16(status) {
  var dato1 = Number(document.getElementById("estAct16").innerHTML);
  var dato2 = document.getElementById("Act16").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto16").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad17(status) {
  var dato1 = Number(document.getElementById("estAct17").innerHTML);
  var dato2 = document.getElementById("Act17").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto17").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad18(status) {
  var dato1 = Number(document.getElementById("estAct18").innerHTML);
  var dato2 = document.getElementById("Act18").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto18").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad19(status) {
  var dato1 = Number(document.getElementById("estAct19").innerHTML);
  var dato2 = document.getElementById("Act19").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto19").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad20(status) {
  var dato1 = Number(document.getElementById("estAct20").innerHTML);
  var dato2 = document.getElementById("Act20").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto20").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad21(status) {
  var dato1 = Number(document.getElementById("estAct21").innerHTML);
  var dato2 = document.getElementById("Act21").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto21").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad22(status) {
  var dato1 = Number(document.getElementById("estAct22").innerHTML);
  var dato2 = document.getElementById("Act22").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto22").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
function actividad23(status) {
  var dato1 = Number(document.getElementById("estAct23").innerHTML);
  var dato2 = document.getElementById("Act23").innerHTML;
  var valor = status;
  var dato3=""
  if(valor==0){dato3="Terminado conforme"}
  if(valor==1){dato3="Terminado no conforme"}
  if(valor==2){dato3="Sin terminar"}
  //document.getElementById('texto2').innerHTML=valor;
  var dato4 = document.getElementById("ingresatexto23").value;
  var dato5 = 18;//incluir idObra
  var dato6 = Number(document.getElementById("ord_viv").innerHTML);
  var itera3 = Object.keys(list_act).length;
  for(var n = 0; n < itera3; n++) {
    if(dato2==list_act[n]){
      dato7=list_emp[n];
    }
  }
  var xhr = new XMLHttpRequest();
  var url = "https://controlobraapi.i3code.net/api/Registros/InsertOrUpdate";
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
          var json = JSON.parse(xhr.responseText);
      }
  };
  if(dato1==""){
    var data = JSON.stringify({"idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }else{
    var data = JSON.stringify({"id":dato1, "idObra":dato5, "numero":dato6, "actividad":dato2, "empresa":dato7, "status":dato3, "comentario":dato4});
  }
  //document.getElementById('texto').innerHTML=dato7;
  //document.getElementById('texto').innerHTML=data;
  xhr.send(data);
  ConfirmDemo();
}
//JSON.stringify({"id":dato1, "idObra":1018, "nombre":dato2, "empresa":dato3, "email":dato4})
//{"idObra":18, "numero":22, "actividad":"Colocación módulos StepUP", "empresa":"", "status":"Sin terminar", "comentario":"Todo mal"}
</script>
</head>
<body onload="actividades();" >
<div id="container">
<table>
  <tr>
    <td><p>Vivienda: </p></td>
    <td><p id="vivienda">1452</p></td>
    <td><p>  /  </p></td>
    <td><p>Orden: </p></td>
    <td><p id="ord_viv">1</p></td>
  </tr>
</table>
<table style="text-align: center;">
  <tbody>
    <tr>
      <td id= "Act0">Implantación y cierre obra</td>
      <td id= "estAct0" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde0" type="button" style="background: green;" onclick="actividad0(0)">TC</button></td>
      <td><button id= "Amarillo0" type="button" style="background: yellow;"onclick="actividad0(1)">TN</button></td>
      <td><button id= "Rojo0" type="button" style="background: red;" onclick="actividad0(2)">ST</button></td>
      <td><input id="ingresatexto0" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act1">Montaje Andamio Lado Norte</td>
      <td id= "estAct1" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde1" type="button" style="background: green;" onclick="actividad1(0)">TC</button></td>
      <td><button id= "Amarillo1" type="button" style="background: yellow;"onclick="actividad1(1)">TN</button></td>
      <td><button id= "Rojo1" type="button" style="background: red;" onclick="actividad1(2)">ST</button></td>
      <td><input id="ingresatexto1" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act2">Montaje Andamio Lado Sur</td>
      <td id= "estAct2" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde2" type="button" style="background: green;" onclick="actividad2(0)">TC</button></td>
      <td><button id= "Amarillo2" type="button" style="background: yellow;"onclick="actividad2(1)">TN</button></td>
      <td><button id= "Rojo2" type="button" style="background: red;" onclick="actividad2(2)">ST</button></td>
      <td><input id="ingresatexto2" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act3">Demolición y cubrición tela y otros elementos</td>
      <td id= "estAct3" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde3" type="button" style="background: green;" onclick="actividad3(0)">TC</button></td>
      <td><button id= "Amarillo3" type="button" style="background: yellow;"onclick="actividad3(1)">TN</button></td>
      <td><button id= "Rojo3" type="button" style="background: red;" onclick="actividad3(2)">ST</button></td>
      <td><input id="ingresatexto3" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act4">Levantado cubierta terraza ático y huecos</td>
      <td id= "estAct4" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde4" type="button" style="background: green;" onclick="actividad4(0)">TC</button></td>
      <td><button id= "Amarillo4" type="button" style="background: yellow;"onclick="actividad4(1)">TN</button></td>
      <td><button id= "Rojo4" type="button" style="background: red;" onclick="actividad4(2)">ST</button></td>
      <td><input id="ingresatexto4" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act5">Formación Cubierta Plana</td>
      <td id= "estAct5" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde5" type="button" style="background: green;" onclick="actividad5(0)">TC</button></td>
      <td><button id= "Amarillo5" type="button" style="background: yellow;"onclick="actividad5(1)">TN</button></td>
      <td><button id= "Rojo5" type="button" style="background: red;" onclick="actividad5(2)">ST</button></td>
      <td><input id="ingresatexto5" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act6">Forrado SATE</td>
      <td id= "estAct6" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde6" type="button" style="background: green;" onclick="actividad6(0)">TC</button></td>
      <td><button id= "Amarillo6" type="button" style="background: yellow;"onclick="actividad6(1)">TN</button></td>
      <td><button id= "Rojo6" type="button" style="background: red;" onclick="actividad6(2)">ST</button></td>
      <td><input id="ingresatexto6" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act7">Formación de Cubierta inclinada</td>
      <td id= "estAct7" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde7" type="button" style="background: green;" onclick="actividad7(0)">TC</button></td>
      <td><button id= "Amarillo7" type="button" style="background: yellow;"onclick="actividad7(1)">TN</button></td>
      <td><button id= "Rojo7" type="button" style="background: red;" onclick="actividad7(2)">ST</button></td>
      <td><input id="ingresatexto7" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act8">Varios cubierta</td>
      <td id= "estAct8" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde8" type="button" style="background: green;" onclick="actividad8(0)">TC</button></td>
      <td><button id= "Amarillo8" type="button" style="background: yellow;"onclick="actividad8(1)">TN</button></td>
      <td><button id= "Rojo8" type="button" style="background: red;" onclick="actividad8(2)">ST</button></td>
      <td><input id="ingresatexto8" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act9">Picado vierteaguas</td>
      <td id= "estAct9" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde9" type="button" style="background: green;" onclick="actividad9(0)">TC</button></td>
      <td><button id= "Amarillo9" type="button" style="background: yellow;"onclick="actividad9(1)">TN</button></td>
      <td><button id= "Rojo9" type="button" style="background: red;" onclick="actividad9(2)">ST</button></td>
      <td><input id="ingresatexto9" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act10">Recibido de Placas</td>
      <td id= "estAct10" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde10" type="button" style="background: green;" onclick="actividad10(0)">TC</button></td>
      <td><button id= "Amarillo10" type="button" style="background: yellow;"onclick="actividad10(1)">TN</button></td>
      <td><button id= "Rojo10" type="button" style="background: red;" onclick="actividad10(2)">ST</button></td>
      <td><input id="ingresatexto10" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act11">Levantado terrazas</td>
      <td id= "estAct11" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde11" type="button" style="background: green;" onclick="actividad11(0)">TC</button></td>
      <td><button id= "Amarillo11" type="button" style="background: yellow;"onclick="actividad11(1)">TN</button></td>
      <td><button id= "Rojo11" type="button" style="background: red;" onclick="actividad11(2)">ST</button></td>
      <td><input id="ingresatexto11" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act12">Formación de nuevas terrazas y barandillas</td>
      <td id= "estAct12" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde12" type="button" style="background: green;" onclick="actividad12(0)">TC</button></td>
      <td><button id= "Amarillo12" type="button" style="background: yellow;"onclick="actividad12(1)">TN</button></td>
      <td><button id= "Rojo12" type="button" style="background: red;" onclick="actividad12(2)">ST</button></td>
      <td><input id="ingresatexto12" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act13">Fachada in situ Terrazas</td>
      <td id= "estAct13" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde13" type="button" style="background: green;" onclick="actividad13(0)">TC</button></td>
      <td><button id= "Amarillo13" type="button" style="background: yellow;"onclick="actividad13(1)">TN</button></td>
      <td><button id= "Rojo13" type="button" style="background: red;" onclick="actividad13(2)">ST</button></td>
      <td><input id="ingresatexto13" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act14">Insuflado Falso Techo Terrazas</td>
      <td id= "estAct14" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde14" type="button" style="background: green;" onclick="actividad14(0)">TC</button></td>
      <td><button id= "Amarillo14" type="button" style="background: yellow;"onclick="actividad14(1)">TN</button></td>
      <td><button id= "Rojo14" type="button" style="background: red;" onclick="actividad14(2)">ST</button></td>
      <td><input id="ingresatexto14" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act15">Forrado alero planta baja</td>
      <td id= "estAct15" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde15" type="button" style="background: green;" onclick="actividad15(0)">TC</button></td>
      <td><button id= "Amarillo15" type="button" style="background: yellow;"onclick="actividad15(1)">TN</button></td>
      <td><button id= "Rojo15" type="button" style="background: red;" onclick="actividad15(2)">ST</button></td>
      <td><input id="ingresatexto15" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act16">Preparación recercos ventana</td>
      <td id= "estAct16" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde16" type="button" style="background: green;" onclick="actividad16(0)">TC</button></td>
      <td><button id= "Amarillo16" type="button" style="background: yellow;"onclick="actividad16(1)">TN</button></td>
      <td><button id= "Rojo16" type="button" style="background: red;" onclick="actividad16(2)">ST</button></td>
      <td><input id="ingresatexto16" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act17">Retirada andamiaje fachada</td>
      <td id= "estAct17" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde17" type="button" style="background: green;" onclick="actividad17(0)">TC</button></td>
      <td><button id= "Amarillo17" type="button" style="background: yellow;"onclick="actividad17(1)">TN</button></td>
      <td><button id= "Rojo17" type="button" style="background: red;" onclick="actividad17(2)">ST</button></td>
      <td><input id="ingresatexto17" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act18">Colocación módulos StepUP</td>
      <td id= "estAct18" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde18" type="button" style="background: green;" onclick="actividad18(0)">TC</button></td>
      <td><button id= "Amarillo18" type="button" style="background: yellow;"onclick="actividad18(1)">TN</button></td>
      <td><button id= "Rojo18" type="button" style="background: red;" onclick="actividad18(2)">ST</button></td>
      <td><input id="ingresatexto18" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act19">Colocación de andamio tendederos</td>
      <td id= "estAct19" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde19" type="button" style="background: green;" onclick="actividad19(0)">TC</button></td>
      <td><button id= "Amarillo19" type="button" style="background: yellow;"onclick="actividad19(1)">TN</button></td>
      <td><button id= "Rojo19" type="button" style="background: red;" onclick="actividad19(2)">ST</button></td>
      <td><input id="ingresatexto19" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act20">Retirada y demolición de elementos existentes</td>
      <td id= "estAct20" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde20" type="button" style="background: green;" onclick="actividad20(0)">TC</button></td>
      <td><button id= "Amarillo20" type="button" style="background: yellow;"onclick="actividad20(1)">TN</button></td>
      <td><button id= "Rojo20" type="button" style="background: red;" onclick="actividad20(2)">ST</button></td>
      <td><input id="ingresatexto20" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act21">Realización de nueva fachada</td>
      <td id= "estAct21" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde21" type="button" style="background: green;" onclick="actividad21(0)">TC</button></td>
      <td><button id= "Amarillo21" type="button" style="background: yellow;"onclick="actividad21(1)">TN</button></td>
      <td><button id= "Rojo21" type="button" style="background: red;" onclick="actividad21(2)">ST</button></td>
      <td><input id="ingresatexto21" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act22">Retirada andamiaje tendederos</td>
      <td id= "estAct22" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde22" type="button" style="background: green;" onclick="actividad22(0)">TC</button></td>
      <td><button id= "Amarillo22" type="button" style="background: yellow;"onclick="actividad22(1)">TN</button></td>
      <td><button id= "Rojo22" type="button" style="background: red;" onclick="actividad22(2)">ST</button></td>
      <td><input id="ingresatexto22" type="text" style="background: gray; width: 200%;"></td>
    </tr>
    <tr>
      <td id= "Act23">Colocación ocultación tendederos</td>
      <td id= "estAct23" style="background: #D8D5CE; width:10%;"></td>
      <td><button id= "Verde23" type="button" style="background: green;" onclick="actividad23(0)">TC</button></td>
      <td><button id= "Amarillo23" type="button" style="background: yellow;"onclick="actividad23(1)">TN</button></td>
      <td><button id= "Rojo23" type="button" style="background: red;" onclick="actividad23(2)">ST</button></td>
      <td><input id="ingresatexto23" type="text" style="background: gray; width: 200%;"></td>
    </tr>
  </tbody>
</table>
</div>
</body>
<footer style="text-align: center; padding: 10px;">
  <p>Author: ACR Innova</p>
</footer>
<p id="texto">datos</p>
<p id="texto2">datos2</p>
<button id= "ver" type="button" style="background: blue;" onclick="ver()">ver</button>
</html>
